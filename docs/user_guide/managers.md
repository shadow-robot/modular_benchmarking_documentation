# Framework's managers
Regardless of the problem we want to solve, the ROS messages that are being used are most of the time similar and are derived from standard messages. When creating complex behaviours, it is common to have a lot of different topics created to communicate such messages generated in several nodes . In order to make these communications easier, we implemented six managers that allow to deal with the different messages for you. You can for instance store a given message in node A and to retrive it in node B without creating any topic since the managers are running in the framework and provide services for different actions. Another good thing is that using service is language independant, so whether you are creating your nodes in python or in C++ you can still make the most of the managers. We are first going to go over the different managers and then specify how to create your own.

???Give the trick about anonymous and can be used anywhere.You can use any of these services absolutely anywhere as long as the framework is running. It can be in one of your own scripts, in a [state](???), in an action server, a service and so on.

## Allowed Collision Matrix manager
The [ACM manager](???) contains the following three services:
* `set_init_acm`: Allows to store a provided ACM and set it as *reference*. Useful when we want to reinitialise (set it to a previous state) it several times without keeping in memory all the modifications brought to it. More details about the service [here](???).
* `update_acm_entry`: Updates the entries of the current ACM. Useful when dynamically adding objects to the scene. With the same service you can **add** and **delete** new objects to the ACM or **reinitialise** the matrix. You can find the service [here](???).
* `get_modified_acm`: Updates the allowed collision according to the specified modification and returns it. You can allow/disallow **manipulator self collisions**, **collisions between the manipulator and given objects** or just using it as a simple **getter**. Especially useful when we want to allow or disallow collisions of the manipulator. You can find out more about it [here](???).


## Moveit plan manager
The [Moveit plan manager](???) contains two services:
* `add_plan`: Stores a RobotTrajectory message (which is a Moveit Plan). It is especially useful if you are using your own motion planner. The service is defined [here](???).
* `get_plan`: Gives access to an already stored RobotTrajectory message. Especially useful when wanting to execute or to modify a previously computed plan. The service can be found [here](???).

**Please note that the manager does not compute any plan!**


## Standardised grasp manager
For grasping, our framework is relying on a specific message defining a grasp. This [manager](???) contains two services to deal with such messages:
* `add_grasp`: Store a [StandardisedGrasp](???). Useful for storing grasps generating by methods in other nodes (not necessarily part of the framework). You can find out more about it [here](???).
* `get_grasp`: Gets an already stored StandardisedGrasp message. Useful to access and potentially execute an already generated grasp. Details can be found [here](???).

## Joint state manager
The [joint state manager](???) contains two services:
* `add_joint_state`: Stores a JointState message. Useful for storing joint states dynamically generated by methods. You can find the details of this service [here](???).
* `get_joint_state`: Gets a previously stored JointState message. Can be used to edit or move to an existing one. Details of this service are [here](???).

In addition of these two services, this manager is also taking care of loading the content of the config file `named_joint_states.yaml`. It allows you to create, use and access pre-recorded joint states whenever and where you want while using the framework.

## Pose stamped manager
The [pose stamped manager](???) contains two services:
* `add_pose_stamped`: Stores a POseStamped message. Useful for storing poses dynamically generated by methods. You can find the details of this service [here](???).
* `get_pose_stamped`: Gets a previously stored PoseStamped message. Can be used to edit or move to an existing one. Details of this service are [here](???).

**The manager does not create PoseStamped messages!** If you want helpers to do so, you can have a look at [here](???).

## Joint trajectory manager
The [joint trajectory manager](???) contains two services:
* `add_trajectory`: Stores a JointTrajectory message. Useful for storing joint trajectories dynamically generated by methods. You can find the details of this service [here](???).
* `get_trajectory`: Gets a previously stored JointTrajectory message. Can be used to edit or move according to an existing one. Details of this service are [here](???).

In addition of these two services, this manager is also taking care of creating the trajectories defined in the config file `named_trajectories.yaml`. It allows you to easily define predefined trajectories in a very accurate way. You can then use these trajectories where you want as long as the framework is running.
